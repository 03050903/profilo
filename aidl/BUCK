load("//buck_imports:profilo_path.bzl", "profilo_path")

android_library(
    name = "aidl",
    srcs = glob(["java/**/*.java"]) + [
        ":ILoomMultiProcessTraceService",
        ":ILoomMultiProcessTraceListener",
    ],
    visibility = [
        profilo_path("..."),
    ],
)

gen_aidl(
    name = "ILoomMultiProcessTraceService",
    aidl = "java/com/facebook/loom/ipc/ILoomMultiProcessTraceService.aidl",
    import_path = profilo_path("aidl/java/").replace("//", ""),
)

gen_aidl(
    name = "ILoomMultiProcessTraceListener",
    aidl = "java/com/facebook/loom/ipc/ILoomMultiProcessTraceListener.aidl",
    import_path = profilo_path("aidl/java/").replace("//", ""),
)
